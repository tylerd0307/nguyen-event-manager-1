<!DOCTYPE html>
<html>
<head>
    <title>Manage Venues</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <h1>Manage Venues</h1>
    <a href="/">Back to Home</a>

    <h2>Browse Venues</h2>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Address</th>
            <th>Capacity</th>
            <th>Contact Number</th>
            <th>Actions</th>
        </tr>
        {{#each data}}
        <tr>
            <td>{{this.venueID}}</td>
            <td>{{this.venueName}}</td>
            <td>{{this.address}}</td>
            <td>{{this.capacity}}</td>
            <td>{{this.contactNumber}}</td>
            <td><a href="#" onclick="deleteVenueFromTable('{{this.venueID}}')">Delete</a></td>
        </tr>
        {{/each}}
    </table>

    <h2>Add Venue</h2>
    <form id="addVenueForm">
        <label>Venue Name:</label> <input type="text" name="venueName" required><br>
        <label>Address:</label> <input type="text" name="address" required><br>
        <label>Capacity:</label> <input type="number" name="capacity" required><br>
        <label>Contact Number:</label> <input type="text" name="contactNumber"><br>
        <input type="submit" value="Add Venue">
    </form>
    
    <h2>Update Venue</h2>
    <form id="updateVenueForm">
        <label for="venueID">Venue ID:</label>
        <select id="venueID" name="venueID">
            {{#each data}}
                <option value="{{this.venueID}}" {{#if (eq this.venueID ../selectedVenue.venueID)}}selected{{/if}}>{{this.venueName}} (ID: {{this.venueID}})</option>
            {{/each}}
        </select><br>

        <label for="venueName">Venue Name:</label>
        <input type="text" id="venueName" name="venueName" value="{{selectedVenue.venueName}}"><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" value="{{selectedVenue.address}}"><br>

        <label for="capacity">Capacity:</label>
        <input type="number" id="capacity" name="capacity" value="{{selectedVenue.capacity}}"><br>

        <label for="contactNumber">Contact Number:</label>
        <input type="text" id="contactNumber" name="contactNumber" value="{{selectedVenue.contactNumber}}"><br>

        <input type="submit" value="Update Venue">
    </form>

    <h2>Delete Venue</h2>
    <form id="deleteVenueForm">
        <label for="deleteVenueID">Venue ID:</label>
        <select id="deleteVenueID" name="deleteVenueID">
            {{#each data}}
            <option value="{{this.venueID}}">{{this.venueName}} (ID: {{this.venueID}})</option>
            {{/each}}
        </select><br>
        <input type="submit" value="Delete Venue">
    </form>

    <script src="/js/venues/add-venue.js"></script>
    <script src="/js/venues/update-venue.js"></script>
    <script src="/js/venues/delete-venue.js"></script>

</body>
</html>